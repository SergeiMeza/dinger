<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Dinger</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="What Tinder should have been">
    <meta name="apple-mobile-web-app-title" content="Dinger">
    <meta name="application-name" content="Dinger">
    <meta name="theme-color" content="#263238">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link href="static/bootstrap-combined.min.css" rel="stylesheet">
    <link href="static/app.css" rel="stylesheet">
    <link href="static/app-theme.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300italic,100,100italic,300" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]><script src="static/html5shiv.min.js"></script><![endif]-->
  </head>
  <body data-target=".content-nav">
    <header>
      <div class="container">
        <div class="row">
          <div class="span5">
            <h1>Dinger</h1>
          </div>
          <div class="span7">
            <menu>
              <ul>
                <li><a href="#download" class="menu download">Download latest</a></li>
                <li><a href="http://github.com/stoyicker/dinger" data-title="View GitHub Project" class="menu github"><img src="static/icon-github.png" alt="GitHub"/></a></li>
                <li><a href="https://www.linkedin.com/in/jorgediazbenitosoriano/" data-title="Jorge Antonio Diaz-Benito Soriano on LinkedIn" class="menu square" target="_blank"><img src="static/icon-linkedin.png" alt="Check out my profile on LinkedIn!"/></a></li>
              </ul>
            </menu>
          </div>
        </div>
      </div>
    </header>
    <section id="subtitle">
      <div class="container">
        <div class="row">
          <div class="span12">
            <h2>What Tinder should have been</h2>
          </div>
        </div>
      </div>
    </section>
    <section id="body">
      <div class="container">
        <div class="row">
          <div class="span9">
            <section id="introduction">
              <h3>Introduction</h3>
              <p>Dinger turns your HTTP API into a Java interface.</p>
              <pre class="prettyprint">public interface GitHubService {
  @GET("users/{user}/repos")
  Call&lt;List&lt;Repo>> listRepos(@Path("user") String user);
}</pre>
              <p>The <code>Dinger</code> class generates an implementation of the <code>GitHubService</code> interface.</p>
              <pre class="prettyprint lang-kotlin">val myVariable = ClassName(parameter = value)
              list.forEach { }</pre>
              <p>Each <code>Call</code> from the created <code>GitHubService</code> can make a synchronous or asynchronous HTTP request to the remote webserver.</p>
              <pre class="prettyprint">Call&lt;List&lt;Repo>> repos = service.listRepos("octocat");</pre>
              <p>Use annotations to describe the HTTP request:</p>
              <ul>
                <li>URL parameter replacement and query parameter support</li>
                <li>Object conversion to request body (e.g., JSON, protocol buffers)</li>
                <li>Multipart request body and file upload</li>
              </ul>
            </section>

            <section id="api-declaration">
              <h3>API Declaration</h3>
              <p>Annotations on the interface methods and its parameters indicate how a request will be handled.</p>

              <h4>Request Method</h4>
              <p>Every method must have an HTTP annotation that provides the request method and relative URL. There are five built-in annotations: <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, and <code>HEAD</code>. The relative URL of the resource is specified in the annotation.</p>
              <pre class="prettyprint">@GET("users/list")</pre>
              <p>You can also specify query parameters in the URL.</p>
              <pre class="prettyprint">@GET("users/list?sort=desc")</pre>

              <h4>URL Manipulation</h4>
              <p>A request URL can be updated dynamically using replacement blocks and parameters on the method. A replacement block is an alphanumeric string surrounded by <code>{</code> and <code>}</code>. A corresponding parameter must be annotated with <code>@Path</code> using the same string.</p>
              <pre class="prettyprint">@GET("group/{id}/users")
Call&lt;List&lt;User>> groupList(@Path("id") int groupId);</pre>
              <p>Query parameters can also be added.</p>
              <pre class="prettyprint">@GET("group/{id}/users")
Call&lt;List&lt;User>> groupList(@Path("id") int groupId, @Query("sort") String sort);</pre>
              <p>For complex query parameter combinations a <code>Map</code> can be used.</p>
              <pre class="prettyprint">@GET("group/{id}/users")
Call&lt;List&lt;User>> groupList(@Path("id") int groupId, @QueryMap Map&lt;String, String&gt; options);</pre>

              <h4>Request Body</h4>
              <p>An object can be specified for use as an HTTP request body with the <code>@Body</code> annotation.</p>
              <pre class="prettyprint">@POST("users/new")
Call&lt;User> createUser(@Body User user);</pre>
              <p>The object will also be converted using a converter specified on the <code>Dinger</code> instance. If no converter is added, only <code>RequestBody</code> can be used.</p>

              <h4>Form Encoded and Multipart</h4>
              <p>Methods can also be declared to send form-encoded and multipart data.</p>
              <p>Form-encoded data is sent when <code>@FormUrlEncoded</code> is present on the method. Each key-value pair is annotated with <code>@Field</code> containing the name and the object providing the value.</p>
              <pre class="prettyprint">@FormUrlEncoded
@POST("user/edit")
Call&lt;User> updateUser(@Field("first_name") String first, @Field("last_name") String last);</pre>
              <p>Multipart requests are used when <code>@Multipart</code> is present on the method. Parts are declared using the <code>@Part</code> annotation.</p>
              <pre class="prettyprint">@Multipart
@PUT("user/photo")
Call&lt;User> updateUser(@Part("photo") RequestBody photo, @Part("description") RequestBody description);</pre>
              <p>Multipart parts use one of <code>Dinger</code>'s converters or they can implement <code>RequestBody</code> to handle their own serialization.</p>

              <h4>Header Manipulation</h4>
              <p>You can set static headers for a method using the <code>@Headers</code> annotation.</p>
              <pre class="prettyprint">@Headers("Cache-Control: max-age=640000")
@GET("widget/list")
Call&lt;List&lt;Widget>> widgetList();</pre>
              <pre class="prettyprint">@Headers({
    "Accept: application/vnd.github.v3.full+json",
    "User-Agent: Dinger-Sample-App"
})
@GET("users/{username}")
Call&lt;User> getUser(@Path("username") String username);</pre>
              <p>Note that headers do not overwrite each other. All headers with the same name will be included in the request.</p>
              <p>A request Header can be updated dynamically using the <code>@Header</code> annotation. A corresponding parameter must be provided to the <code>@Header</code>. If the value is null, the header will be omitted. Otherwise, <code>toString</code> will be called on the value, and the result used.</p>
              <pre class="prettyprint">@GET("user")
Call&lt;User> getUser(@Header("Authorization") String authorization)</pre>
              <p>Headers that need to be added to every request can be specified using an <a href="https://github.com/square/okhttp/wiki/Interceptors">OkHttp interceptor</a>.

              <h4>Synchronous vs. Asynchronous</h4>
              <p><code>Call</code> instances can be executed either synchronously or asynchronously. Each instance can only be used once, but calling <code>clone()</code> will create a new instance that can be used.</p>
              <p>On Android, callbacks will be executed on the main thread. On the JVM, callbacks will happen on the same thread that executed the HTTP request.</p>
            </section>

            <section id="restadapter-configuration">
              <h3>Dinger Configuration</h3>
              <p><code>Dinger</code> is the class through which your API interfaces are turned into callable objects. By default, Dinger will give you sane defaults for your platform but it allows for customization.</p>

              <h4>Converters</h4>
              <p>By default, Dinger can only deserialize HTTP bodies into OkHttp's <code>ResponseBody</code> type and it can only accept its <code>RequestBody</code> type for <code>@Body</code>.</p>
              <p>Converters can be added to support other types. Six sibling modules adapt popular serialization libraries for your convenience.</p>
              <ul>
                <li><a href="https://github.com/google/gson">Gson</a> <code>com.squareup.dinger2:converter-gson</code></li>
                <li><a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a>: <code>com.squareup.dinger2:converter-jackson</code></li>
                <li><a href="https://github.com/square/moshi/">Moshi</a> <code>com.squareup.dinger2:converter-moshi</code></li>
                <li><a href="https://developers.google.com/protocol-buffers/">Protobuf</a>: <code>com.squareup.dinger2:converter-protobuf</code></li>
                <li><a href="https://github.com/square/wire">Wire</a> <code>com.squareup.dinger2:converter-wire</code></li>
                <li><a href="http://simple.sourceforge.net/">Simple XML</a> <code>com.squareup.dinger2:converter-simplexml</code></li>
              </ul>
              <p>Here's an example of using the <code>GsonConverterFactory</code> class to generate an implementation of the <code>GitHubService</code> interface which uses Gson for its deserialization.</p>
              <pre class="prettyprint">Dinger dinger = new Dinger.Builder()
    .baseUrl("https://api.github.com")
    .addConverterFactory(GsonConverterFactory.create())
    .build();

GitHubService service = dinger.create(GitHubService.class);</pre>
              <h4>Custom Converters</h4>
              <p>If you need to communicate with an API that uses a content-format that Dinger does not support out of the box (e.g. YAML, txt, custom format) or you wish to use a different library to implement an existing format, you can easily create your own converter. Create a class that extends the <a href="https://github.com/square/dinger/blob/master/dinger/src/main/java/dinger2/Converter.java"><code>Converter.Factory</code> class</a> and pass in an instance when building your adapter.</p>
            </section>

            <section id="download">
              <h3>Download</h3>
              <p><a href="https://github.com/stoyicker/dinger/releases/latest" class="dl version-href">&darr; <span>Latest</span> APK</a></p>
              <p><img src="https://github.com/stoyicker/dinger/releases/latest" alt="QR code" class="dl version-qr" /></p>
              <p>The source code to Dinger, its documentation and this website are <a href="http://github.com/stoyicker/dinger">available on GitHub</a>.</p>
              <h4 class ="version-tag">Changelog</h4>
              <p class="changelog"></p>
            </section>

            <section id="contributing">
              <h3>Contributing</h3>
              <p class="contributing"/>
            </section>

            <section id="license">
              <h3>License</h3>
              <pre class="license"/>
            </section>
          </div>
          <div class="span3">
            <div class="content-nav" data-spy="affix" data-offset-top="80">
              <ul class="nav nav-tabs nav-stacked primary">
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#api-declaration">API Declaration</a></li>
                <li><a href="#restadapter-configuration">Dinger Configuration</a></li>
                <li><a href="#download">Download</a></li>
                <li><a href="#contributing">Contributing</a></li>
                <li><a href="#license">License</a></li>
              </ul>
              <ul class="nav nav-pills nav-stacked secondary">
                <li><a href="https://app.swaggerhub.com/apis/stoyicker/tinder-dinger/" target="_blank">API documentation</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span12 logo">
            <a href="https://www.linkedin.com/in/jorgediazbenitosoriano/" data-title="Jorge Antonio Diaz-Benito Soriano on LinkedIn" target="_blank"><img src="static/logo-linkedin.png" alt="Check out my profile on LinkedIn!"/></a>
          </div>
        </div>
      </div>
    </section>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="static/bootstrap.min.js"></script>
    <script src="static/jquery.smooth-scroll.min.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=kotlin&amp;skin=desert"></script>
    <script src="https://cdn.rawgit.com/showdownjs/showdown/1.8.2/dist/showdown.min.js"></script>
    <script type="text/javascript">
      $(function() {
        // Spy on scroll position for real-time updating of current section.
        $('body').scrollspy();

        // Use smooth-scroll for internal links.
        $('a').smoothScroll();

        // Enable tooltips on the header nav image items.
        $('.menu').tooltip({
          placement: 'bottom',
          trigger: 'hover',
          container: 'body',
          delay: {
            show: 500,
            hide: 0
          }
        });

        $.getJSON('https://stoyicker.github.io/dinger/version.json', function(data) {
          $('.version').text(data.version);
          $('.version-tag').append(' ' + data.version);
          $('.version-href').attr('href', data.download_url);
          if (/iphone|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())) { 
              $('.version-qr').css('display', 'none');
          } else {
          $('.version-qr').attr('src', 'https://github.com/stoyicker/dinger/releases/download/' + data.version + '/qrcode-' + data.version + '.png');
          }
        });

        $.getJSON('https://api.github.com/repos/stoyicker/dinger/releases/latest', function(data) {
          $('.changelog').text(data.body.substring(data.body.indexOf("CHANGELOG**:\n\n") + "CHANGELOG**:\n\n".length));
          $('.changelog').css('white-space', 'pre-line');
        });

        $.get('https://raw.githubusercontent.com/stoyicker/dinger/master/LICENSE', function(data) {
          $('.license').text(data);
        });

        $.get('https://raw.githubusercontent.com/stoyicker/dinger/master/CONTRIBUTING.md', function(data) {
          $('.contributing').append(new showdown.Converter().makeHtml(data));
        });
      });
    </script>
  </body>
</html>
